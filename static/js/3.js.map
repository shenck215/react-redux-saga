{"version":3,"file":"static/js/3.js","sources":["webpack:///src/page/policyCompanyDetail/index.jsx","webpack:///src/page/policyCompanyBuild/AddCityModal.js","webpack:///src/page/policyCompanyBuild/AddContactModal.js","webpack:///./src/css/policyCompanyDetail/style.css","webpack:///./src/images/policyCompanyDetail/add.png","webpack:///./src/images/policyCompanyDetail/edit.png","webpack:///./src/css/policyCompanyDetail/style.css?9411","webpack:///src/page/policyCompanyDetail/EditCityModal.js","webpack:///src/page/policyCompanyDetail/PopSelect.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Form, Row, Col, Input, Cascader, DatePicker, Tabs, Table, Pagination, Select, Popover, Modal } from 'antd'\r\nimport { browserHistory } from 'react-router'\r\nimport style from '../../css/policyCompanyDetail/style.css'\r\nimport edit from '../../images/policyCompanyDetail/edit.png'\r\nimport add from '../../images/policyCompanyDetail/add.png'\r\nimport AddContactModal from '../policyCompanyBuild/AddContactModal'\r\nimport AddCityModal from '../policyCompanyBuild/AddCityModal'\r\nimport EditCityModal from './EditCityModal'\r\nimport PopSelect from './PopSelect'\r\nimport {\r\n    addCityModalVisible as addCityModalVisibleActionCreator, addContactModalVisible as addContactModalVisibleActionCreator,\r\n    getPolicyCompanyDetail, putModifiedCompanyInfo, savingLoading, receivedPolicyCompanyDetail, toggleEditable,\r\n    getServiceCity, getContact, getOperationLog, modifyServiceCityServiceState, deleteServiceCity as deleteServiceCityActionCreator,\r\n    hasSecuredCustomerInServiceCity as hasSecuredCustomerInServiceCityActionCreator, addServiceCity, modifyServiceCity,\r\n    addContact, modifyContact, deleteContact as deleteContactActionCreator, deleteCompany as deleteCompanyActionCreator,\r\n    hasReceiverInThisCompany\r\n} from '../../action/policyCompanyDetail/policyCompanyDetailAction'\r\nimport { Link } from 'react-router'\r\n\r\nconst FormItem = Form.Item\r\nconst { RangePicker } = DatePicker\r\nlet companyId\r\n\r\nconst options = [{\r\n    value: '浙江',\r\n    label: '浙江',\r\n    children: [{\r\n        value: '杭州',\r\n        label: '杭州',\r\n        children: [{\r\n            value: '江干',\r\n            label: '江干',\r\n        }],\r\n    }],\r\n}, {\r\n    value: 'jiangsu',\r\n    label: 'Jiangsu',\r\n    children: [{\r\n        value: 'nanjing',\r\n        label: 'Nanjing',\r\n        children: [{\r\n            value: 'zhonghuamen',\r\n            label: 'Zhong Hua Men',\r\n        }],\r\n    }],\r\n}];\r\n\r\nconst cityDataSourceExample = [{\r\n    // 服务城市id\r\n    id: 1,\r\n    serviceCity: '杭州市',\r\n    accountAddress: '浙江省',\r\n    serviceState: 2,\r\n    serviceFee: 100,\r\n    billingType: 1, // 1 预收 2 实缴\r\n    billingMonth: 2, // 0 当月 1 次月 2 双月\r\n    payDay: 23,\r\n    issueCertificate: '身份证，证证证',\r\n    accidentCollection: 222,\r\n    serviceRate: 3, //\r\n    policyPackageState: 0,\r\n    policyPackage: '',\r\n}]\r\n\r\nconst contactDataSourceExample = [{\r\n    id: 1,\r\n    name: 'yis',\r\n    mobile: '15100000000',\r\n    qq: '10000',\r\n    telephone: '35883599',\r\n    email: '10000@qq.com',\r\n    remark: '下雨不要忘记带伞',\r\n    isRecipient: 0\r\n}]\r\n\r\nlet presetCityDataSource = null\r\nlet presetContactDataSource = null\r\n\r\nclass PolicyCompanyDetail extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            filterPolicyPackageState: null,\r\n            filterServiceState: null,\r\n            editCityModalVisible: false\r\n        }\r\n        companyId = props.location.query.id\r\n        // 路由参数中获取从服务商列表页获取的服务商id 然后获取服务商详情信息\r\n        props.dispatch(getPolicyCompanyDetail(companyId))\r\n        // 获取初始服务城市信息\r\n        props.dispatch(getServiceCity({\r\n            companyId,\r\n            cityCurrent: props.cityCurrent,\r\n            pageSize: props.pageSize\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            companyName, companyAddress, detailAddress, cooperationTime, protocolFileUrl,\r\n            remark, dispatch, addCityModalVisible, addContactModalVisible, savingLoading,\r\n            hasSecuredCustomerInServiceCity, hasReceiverInThisCompany\r\n        } = this.props\r\n        const { getFieldDecorator } = this.props.form\r\n        const formItemlayout = {\r\n            labelCol: { span: 6 },\r\n            wrapperCol: { span: 18 }\r\n        }\r\n        // 服务城市tab表格列\r\n        const columnsCity = [{\r\n            title: '服务城市',\r\n            dataIndex: 'serviceCity',\r\n            key: 'serviceCity'\r\n        }, {\r\n            title: '开户地区',\r\n            dataIndex: 'accountAddress',\r\n            key: 'accountAddress'\r\n        }, {\r\n            title: <Select placeholder=\"服务状态\" style={{minWidth: 100}} onSelect={(value) => this.filterByServiceState(value)}>\r\n                <Select.Option value={1}>正常服务</Select.Option>\r\n                <Select.Option value={2}>只减不增</Select.Option>\r\n                <Select.Option value={3}>停止服务</Select.Option>\r\n            </Select>,\r\n            dataIndex: 'serviceState',\r\n            key: 'serviceState',\r\n            render: (text, record) => <PopSelect\r\n                saveCallback={(serviceStateChangedValue) => this.modifyServiceState(serviceStateChangedValue, record)}\r\n                defaultSelected={record.serviceStateOriginal}\r\n                policyPackageState={record.policyPackageStateOriginal}\r\n                text={text}\r\n                dispatchHasSecuredCustomerInServiceCity={dispatch(hasSecuredCustomerInServiceCityActionCreator(record.id))}\r\n                hasSecuredCustomer={hasSecuredCustomerInServiceCity}/>\r\n        }, {\r\n            title: '服务费',\r\n            dataIndex: 'serviceFee',\r\n            key: 'serviceFee'\r\n        }, {\r\n            title: '账单类型',\r\n            dataIndex: 'billingType',\r\n            key: 'billingType'\r\n        }, {\r\n            title: '账单归属月',\r\n            dataIndex: 'billingMonth',\r\n            key: 'billingMonth'\r\n        }, {\r\n            title: '打款日',\r\n            dataIndex: 'payDay',\r\n            key: 'payDay'\r\n        }, {\r\n            title: '可开具证明',\r\n            dataIndex: 'issueCertificate',\r\n            key: 'issueCertificate',\r\n            render: (text, record) => <Popover content={text} trigger=\"click\"><a>查看</a></Popover>\r\n        }, {\r\n            title: '事故汇总',\r\n            dataIndex: 'accidentCollection',\r\n            key: 'accidentCollection'\r\n        }, {\r\n            title: '服务评分',\r\n            dataIndex: 'serviceRate',\r\n            key: 'serviceRate'\r\n        }, {\r\n            title: <Select placeholder=\"政策包状态\" style={{ minWidth: 100 }} onChange={this.filterByPolicyPackageState}>\r\n                <Select.Option value={0}>未设置</Select.Option>\r\n                <Select.Option value={2}>正常</Select.Option>\r\n                <Select.Option value={1}>异常</Select.Option>\r\n            </Select>,\r\n            dataIndex: 'policyPackageState',\r\n            key: 'policyPackageState',\r\n            render: (text) => <span style={(() => {\r\n                switch (text) {\r\n                    case '未设置':\r\n                    case '异常':\r\n                        return {color: 'red'}\r\n                    case '正常':\r\n                        return {}\r\n                }\r\n            })()}>{text}</span>\r\n        }, {\r\n            title: '政策包',\r\n            dataIndex: 'policyPackage',\r\n            key: 'policyPackage',\r\n            render: (text, record) => <Link to=\"\">{text}</Link>\r\n        }, {\r\n            title: '操作',\r\n            dataIndex: 'action',\r\n            key: 'action',\r\n            render: (text, record) => <span>\r\n                <a onClick={() => this.editServiceCity(record.id)}>编辑</a>&nbsp;|&nbsp;\r\n                <a onClick={() => this.deleteServiceCity(record.id, record.serviceStateOriginal)}>删除</a></span>\r\n        }]\r\n\r\n        // 联系人tab表格列\r\n        const columnsContact = [{\r\n            title: '姓名',\r\n            dataIndex: 'name',\r\n            key: 'name'\r\n        }, {\r\n            title: '手机',\r\n            dataIndex: 'mobile',\r\n            key: 'mobile'\r\n        }, {\r\n            title: 'QQ',\r\n            dataIndex: 'qq',\r\n            key: 'qq'\r\n        }, {\r\n            title: '固定电话',\r\n            dataIndex: 'telephone',\r\n            key: 'telephone'\r\n        }, {\r\n            title: '邮箱',\r\n            dataIndex: 'email',\r\n            key: 'email'\r\n        }, {\r\n            title: '派单表接收人',\r\n            dataIndex: 'receiver',\r\n            key: 'receiver'\r\n        }, {\r\n            title: '备注',\r\n            dataIndex: 'remark',\r\n            key: 'remark'\r\n        }, {\r\n            title: '操作',\r\n            dataIndex: 'action',\r\n            key: 'action',\r\n            render: (text, record) => <span>\r\n                <a onClick={() => this.editContact(record.id)}>编辑</a>&nbsp;|&nbsp;\r\n                <a onClick={() => this.deleteContact(record.id)}>删除</a></span>\r\n        }]\r\n\r\n        // 操作日志表格列\r\n        const columnsLog = [{\r\n            title: '操作时间',\r\n            dataIndex: 'operateTime',\r\n            key: 'operateTime'\r\n        }, {\r\n            title: '操作人',\r\n            dataIndex: 'operatePeople',\r\n            key: 'operatePeople'\r\n        }, {\r\n            title: '动作',\r\n            dataIndex: 'operation',\r\n            key: 'operation'\r\n        }, {\r\n            title: '备注说明',\r\n            dataIndex: 'remark',\r\n            key: 'remark'\r\n        }]\r\n\r\n        // 服务城市分页器\r\n        const paginationCity = {\r\n            current: this.props.cityCurrent,\r\n            total: this.props.cityTotal,\r\n            pageSize: this.props.pageSize,\r\n            showQuickJumper: true,\r\n            onChange: (cityCurrent, pageSize) => {\r\n                dispatch(getServiceCity({\r\n                    companyId, cityCurrent, pageSize,\r\n                    serviceState: this.state.filterServiceState,\r\n                    policyPackageState: this.state.filterPolicyPackageState\r\n                }))\r\n            }\r\n        }\r\n\r\n        // 联系人分页器\r\n        const paginationContact = {\r\n            current: this.props.contactCurrent,\r\n            total: this.props.contactTotal,\r\n            pageSize: this.props.pageSize,\r\n            showQuickJumper: true,\r\n            onChange: (contactCurrent, pageSize) => {\r\n                dispatch(getContact({companyId, contactCurrent, pageSize}))\r\n            }\r\n        }\r\n\r\n        // 操作日志分页器\r\n        const paginationLog = {\r\n            current: this.props.operationCurrent,\r\n            total: this.props.operationTotal,\r\n            pageSize: this.props.pageSize,\r\n            showQuickJumper: true,\r\n            onChange: (operationCurrent, pageSize) => {\r\n                dispatch(getOperationLog({companyId, operationCurrent, pageSize}))\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className={style.title}>\r\n                    <div className={style.left}>\r\n                        <Button type=\"primary\" onClick={() => {browserHistory.replace('/jsp/react/policycompany/policycompanylist')}}>返回</Button>\r\n                        <span className={style.desc}>查看服务商：</span>\r\n                        <span className={style.companyName}>{companyName}</span>\r\n                    </div>\r\n                    <Button type=\"danger\" className={style.right} onClick={this.deleteCompany}>删除</Button>\r\n                    <div className={style.clear}/>\r\n                </div>\r\n\r\n                <div className={style.baseInfo}>\r\n                    <h4>基本信息</h4>\r\n                    <img src={edit} onClick={this.edit} style={this.props.editable ? {display: \"none\"} : {}}/>\r\n                </div>\r\n\r\n                {/*显示状态下的服务商详细信息*/}\r\n                <Form className={style.form} layout=\"inline\" style={this.props.editable ? {display: 'none'} : {}}>\r\n                    <Row>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"服务商名称\">\r\n                                {\r\n                                    getFieldDecorator('companyName')(\r\n                                        <span>{companyName}</span>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"所在地区\">\r\n                                {\r\n                                    getFieldDecorator('companyAddress')(\r\n                                        <span>{companyAddress}</span>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"详细地址\">\r\n                                {\r\n                                    getFieldDecorator('detailAddress')(\r\n                                        <span>{detailAddress}</span>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"合作时间\">\r\n                                {\r\n                                    getFieldDecorator('cooperationTime')(\r\n                                        <span>{cooperationTime}</span>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"协议文件\">\r\n                                {\r\n                                    getFieldDecorator('protocolFileUrl')(\r\n                                        <a target=\"_blank\" href={protocolFileUrl}>查看</a>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"备注说明\" >\r\n                                {\r\n                                    getFieldDecorator('remark')(\r\n                                        <span>{remark}</span>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n\r\n                {/*编辑状态下的服务商信息*/}\r\n                <Form className={style.form} layout=\"inline\" style={this.props.editable ? {backgroundColor: \"#f0f0f0\"} : {display: 'none'}}>\r\n                    <Row>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"服务商名称\" {...formItemlayout}>\r\n                                {\r\n                                    getFieldDecorator('companyName', {\r\n                                        rules: [{ required: true, message: '服务商名称不能为空' }, { message: '服务商名称控制在4~40字', min: 4, max: 40 }],\r\n                                        initialValue: companyName\r\n                                    })(\r\n                                        <Input type=\"text\" placeholder=\"服务商名称\" style={{width: 300}}/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <FormItem label=\"所在地区\" {...formItemlayout}>\r\n                                {\r\n                                    getFieldDecorator('companyAddress', {\r\n                                        defaultValue: companyAddress.split('-'),\r\n                                        rules: [{ required: true, message: '请选择所在地区' }]\r\n                                    })(\r\n                                        <Cascader placeholder=\"请选择\" options={options} style={{width: 300}}/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12} style={{marginTop: 20}}>\r\n                            <FormItem label=\"详细地址\" {...formItemlayout}>\r\n                                {\r\n                                    getFieldDecorator('detailAddress', {\r\n                                        rules: [{ required: true, message: '请填写详细地址' }],\r\n                                        initialValue: detailAddress\r\n                                    })(\r\n                                        <Input type=\"text\" placeholder=\"详细地址\" style={{width: 300}}/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12} style={{marginTop: 20}}>\r\n                            <FormItem label=\"合作时间\" {...formItemlayout} style={{width: 400}}>\r\n                                {\r\n                                    getFieldDecorator('cooperationTime')(\r\n                                        <RangePicker placeholder={['合作开始日期', '合作结束日期']}/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12} style={{marginTop: 20}}>\r\n                            <FormItem label=\"协议文件\" {...formItemlayout}  style={{width: 300}}>\r\n                                {\r\n                                    getFieldDecorator('protocolFileUrl')(\r\n                                        <a href={this.props.protocolFileUrl}>查看</a>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={12} style={{marginTop: 20}}>\r\n                            <FormItem label=\"备注说明\" {...formItemlayout}>\r\n                                {\r\n                                    getFieldDecorator('remark')(\r\n                                        <Input type=\"text\" placeholder=\"备注\" style={{width: 300}}/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                        </Col>\r\n                        <Col span={24} style={{marginTop: 20}} offset={1}>\r\n                            <Button type=\"primary\" size=\"small\" onClick={this.save} loading={savingLoading}>保存</Button>\r\n                            <Button type=\"default\" size=\"small\" onClick={this.cancelModifyBaseInfo} style={{marginLeft: 10}}>取消</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n\r\n                <Tabs type=\"card\" animated style={{marginTop: 10}} onChange={(tabName) => this.handleTabsChange(tabName)}>\r\n                    <Tabs.TabPane tab=\"服务城市\" key=\"city\">\r\n                        <Table\r\n                            columns={columnsCity}\r\n                            size=\"default\"\r\n                            bordered={true}\r\n                            dataSource={this.processCityDataToTableDataSource(cityDataSourceExample)}\r\n                            pagination={paginationCity}\r\n                            title={() => <div style={{textAlign: \"right\"}}>\r\n                                <img src={add} style={{cursor: \"pointer\"}} onClick={this.showAddCityModal}/>\r\n                            </div>}/>\r\n                    </Tabs.TabPane>\r\n                    <Tabs.TabPane tab=\"联系人信息\" key=\"contact\">\r\n                        <Table\r\n                            columns={columnsContact}\r\n                            size=\"default\"\r\n                            bordered={true}\r\n                            dataSource={this.processContactDataToTableDataSource(contactDataSourceExample)}\r\n                            pagination={paginationContact}\r\n                            title={() => <div style={{textAlign: \"right\"}}>\r\n                                <img src={add} style={{cursor: \"pointer\"}} onClick={this.showAddContactModal}/>\r\n                            </div>}/>\r\n                    </Tabs.TabPane>\r\n                    <Tabs.TabPane tab=\"操作日志\" key=\"log\">\r\n                        <Table columns={columnsLog} size=\"default\" pagination={paginationLog} bordered={true}/>\r\n                    </Tabs.TabPane>\r\n                </Tabs>\r\n\r\n                <AddCityModal\r\n                    dispatch={dispatch}\r\n                    visible={addCityModalVisible}\r\n                    cancel={this.cancelAddCity}\r\n                    receiveCityDatasource={(values) => this.receiveCityDatasource(values)}/>\r\n                <EditCityModal\r\n                    visible={this.state.editCityModalVisible}\r\n                    dispatch={dispatch}\r\n                    presetCityData={presetCityDataSource}\r\n                    cancel={this.cancelEditCity}\r\n                    receiveCityDatasource={(values) => this.receiveEditedCityDatasource(values)}/>\r\n                <AddContactModal\r\n                    dispatch={dispatch}\r\n                    visible={addContactModalVisible}\r\n                    cancel={this.cancelAddContact}\r\n                    hasReceiverInThisCompany={hasReceiverInThisCompany}\r\n                    presetContactData={presetContactDataSource}\r\n                    receiveContactDatasource={(values) => this.receiveContactDatasource(values)}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    edit = () => {\r\n        this.props.dispatch(toggleEditable(true))\r\n    }\r\n\r\n    // 删除服务商\r\n    deleteCompany = () => {\r\n        const { dispatch, cityDataSource } = this.props\r\n        if (!cityDataSource || cityDataSource.size === 0) {\r\n            Modal.warn({\r\n                title: '确认删除此服务商？',\r\n                okText: '是的',\r\n                maskClosable: true\r\n            })\r\n        } else {\r\n            Modal.error({\r\n                title: '服务商下有服务城市，不可直接删除！',\r\n                maskClosable: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    editServiceCity = (id) => {\r\n        // 找到要编辑的数据\r\n        this.searchCityDataFromCityDataSourceById(id)\r\n        // 把数据转换为适合对话框展示的数据\r\n        presetCityDataSource = this.processPresetCityDataToModalData(presetCityDataSource)\r\n        console.log('modal data', presetCityDataSource)\r\n        this.setState({\r\n            editCityModalVisible: true\r\n        })\r\n    }\r\n\r\n    handleTabsChange = (tabName) => {\r\n        const { contactCurrent, pageSize, dispatch, operationCurrent } = this.props\r\n        if (tabName === 'contact') {\r\n            dispatch(getContact({\r\n                companyId,\r\n                contactCurrent,\r\n                pageSize\r\n            }))\r\n        } else if (tabName === 'log') {\r\n            dispatch(getOperationLog({\r\n                companyId,\r\n                operationCurrent,\r\n                pageSize\r\n            }))\r\n        }\r\n    }\r\n\r\n    cancelEditCity = () => {\r\n        this.setState({\r\n            editCityModalVisible: false\r\n        })\r\n    }\r\n\r\n    // 根据要编辑的信息id找到信息\r\n    searchCityDataFromCityDataSourceById = (id) => {\r\n        const { cityDataSource } = this.props\r\n        // TODO 修改为cityDataSource\r\n        cityDataSourceExample.forEach((item, index) => {\r\n            console.log('searchCityDataFromCityDataSourceById', item, index)\r\n            if (item.id === id)\r\n                presetCityDataSource = item\r\n        })\r\n    }\r\n\r\n    // 将数据库返回数据转换为适合对话框转换的数据\r\n    processPresetCityDataToModalData = (presetCityData) => {\r\n        const { id, serviceCity, accountAddress, serviceFee, billingType, billingMonth, payDay, issueCertificate, accidentCollection, serviceRate } = presetCityData\r\n        return {\r\n            serviceCity, accountAddress, serviceFee, payDay,\r\n            issueCertificate, serviceRate, accidentCollection, id, // 加上id 虽然在对话框中没用 但在对话框将修改数据返回时要靠这个id去服务器修改相应数据\r\n            accountType: billingType,\r\n            accountMonth: billingMonth,\r\n        }\r\n    }\r\n\r\n    save = () => {\r\n        const { validateFields } = this.props.form\r\n        validateFields((err, value) => {\r\n            console.log(err, value)\r\n            if (!err) {\r\n                this.props.dispatch(savingLoading(true))\r\n                // 修改页面数据\r\n                this.props.dispatch(receivedPolicyCompanyDetail(value))\r\n                // 向服务器发起修改请求\r\n                this.props.dispatch(putModifiedCompanyInfo(value))\r\n            }\r\n        })\r\n    }\r\n\r\n    // 从添加城市对话框传回的数据 然后请求服务器添加城市\r\n    receiveCityDatasource = (data) => {\r\n        const { pageSize, cityCurrent } = this.props\r\n        console.log('add city modal', data)\r\n        // 对话框数据请求服务器\r\n        this.props.dispatch(addServiceCity({\r\n            companyId,\r\n            ...data\r\n        }))\r\n        this.props.dispatch(getServiceCity({\r\n            companyId,\r\n            pageSize,\r\n            cityCurrent,\r\n            serviceState: this.state.filterServiceState,\r\n            policyPackageState: this.state.filterPolicyPackageState\r\n        }))\r\n    }\r\n\r\n    // 从编辑城市对话框传过来的数据\r\n    receiveEditedCityDatasource = (data) => {\r\n        console.log('edit modal received data', data)\r\n        const { dispatch, cityCurrent, pageSize } = this.props\r\n        this.setState({\r\n            editCityModalVisible: false\r\n        })\r\n        // TODO 请求服务器 修改城市\r\n        dispatch(modifyServiceCity({ ...data, companyId }))\r\n        dispatch(getServiceCity({\r\n            companyId,\r\n            cityCurrent,\r\n            pageSize\r\n        }))\r\n    }\r\n\r\n    // 从添加联系人对话框传过来的数据\r\n    receiveContactDatasource = (values) => {\r\n        const { dispatch, contactCurrent, pageSize } = this.props\r\n        console.log('add contact modal', values)\r\n        if (presetContactDataSource) {\r\n            dispatch(modifyContact({\r\n                companyId,\r\n                ...values\r\n            }))\r\n        } else {\r\n            dispatch(addContact({\r\n                companyId,\r\n                ...values\r\n            }))\r\n        }\r\n        // 重新获取数据\r\n        dispatch(getContact({\r\n            companyId,\r\n            contactCurrent,\r\n            pageSize\r\n        }))\r\n        // 置空 区别添加和修改 并防止添加联系人的对话框被预设数据污染\r\n        presetContactDataSource = null\r\n    }\r\n\r\n    editContact = (id) => {\r\n        console.log('edit contact', id)\r\n        // 找到要编辑的数据\r\n        this.searchContactDataFromContactDataSourceById(id)\r\n        // 把数据转换为适合对话框展示的数据\r\n        presetContactDataSource = this.processPresetContactDataToModalData(presetContactDataSource)\r\n        console.log('presetContactDataSource', presetContactDataSource)\r\n        this.props.dispatch(addContactModalVisibleActionCreator({addContactModalVisible: true}))\r\n        // 对话框显示后将预设数据不要置为空  在对话框上点击取消或确定后置空\r\n        // presetContactDataSource = null\r\n    }\r\n\r\n    deleteContact = (id) => {\r\n        Modal.warn({\r\n            title: '确定删除次服务商联系人',\r\n            onOk: () => {\r\n                this.props.dispatch(deleteContactActionCreator({id, companyId}))\r\n            },\r\n            maskClosable: true,\r\n            okText: '是的'\r\n        })\r\n    }\r\n\r\n    searchContactDataFromContactDataSourceById = (id) => {\r\n        const { contactDataSource } = this.props\r\n        // TODO 将contactDataSourceExample替换为contactDataSource\r\n        contactDataSourceExample.forEach((item) => {\r\n            if (item.id === id) {\r\n                presetContactDataSource = item\r\n            }\r\n        })\r\n    }\r\n\r\n    // 将数据库返回数据转换为适合对话框转换的数据\r\n    processPresetContactDataToModalData = (contactDataSource) => {\r\n        const { id, name, mobile, qq, telephone, email, remark, isRecipient } = contactDataSource\r\n        return {\r\n            id,\r\n            contactName: name,\r\n            mobilePhoneNum: mobile,\r\n            emailAddr: email,\r\n            phoneNum: telephone,\r\n            qqNum: qq,\r\n            receiver: isRecipient,\r\n            remark\r\n        }\r\n    }\r\n\r\n\r\n    // 取消修改\r\n    cancelModifyBaseInfo = () => {\r\n        this.props.form.resetFields()\r\n        this.props.dispatch(toggleEditable(false))\r\n    }\r\n    // 取消添加联系人\r\n    cancelAddContact = () => {\r\n        const { dispatch } = this.props\r\n        // 置空 防止添加联系人的对话框被预设数据污染\r\n        presetContactDataSource = null\r\n        dispatch(addContactModalVisibleActionCreator({addContactModalVisible: false}))\r\n    }\r\n    // 取消添加服务城市\r\n    cancelAddCity = () => {\r\n        const { dispatch } = this.props\r\n        dispatch(addCityModalVisibleActionCreator({addCityModalVisible: false}))\r\n    }\r\n\r\n    showAddContactModal = () => {\r\n        const { dispatch } = this.props\r\n        dispatch(addContactModalVisibleActionCreator({addContactModalVisible: true}))\r\n    }\r\n\r\n    showAddCityModal = () => {\r\n        const { dispatch } = this.props\r\n        dispatch(addCityModalVisibleActionCreator({addCityModalVisible: true}))\r\n    }\r\n\r\n    // 根据政策包状态筛选服务城市\r\n    filterByPolicyPackageState = (value) => {\r\n        this.setState({filterPolicyPackageState: value})\r\n        const { dispatch, pageSize, cityCurrent } = this.props\r\n        dispatch(getServiceCity({\r\n            companyId,\r\n            pageSize,\r\n            cityCurrent,\r\n            serviceState: this.state.filterServiceState,\r\n            policyPackageState: value\r\n        }))\r\n    }\r\n\r\n    // 根据服务状态筛选服务城市\r\n    filterByServiceState = (value) => {\r\n        this.setState({filterServiceState: value})\r\n        const { dispatch, pageSize, cityCurrent } = this.props\r\n        dispatch(getServiceCity({\r\n            companyId,\r\n            pageSize,\r\n            cityCurrent,\r\n            serviceState: value,\r\n            policyPackageState: this.state.policyPackageState\r\n        }))\r\n    }\r\n\r\n    // 将服务器返回数据转为表格显示数据 - 服务城市\r\n    processCityDataToTableDataSource = (cityDataArr) => cityDataArr.map((cityData) => ({\r\n        serviceCity: cityData.serviceCity,\r\n        accountAddress: cityData.accountAddress,\r\n        serviceState: (() => {\r\n            switch (cityData.serviceState) {\r\n                case 1:\r\n                    return '正常服务'\r\n                case 2:\r\n                    return '只减不增'\r\n                case 3:\r\n                    return '停止服务'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(), // 0 未设置 1 异常 2 正常\r\n        serviceFee: cityData.serviceFee ? cityData.serviceFee : '-/-',\r\n        billingType: (() => {\r\n            switch (cityData.billingType) {\r\n                case 1:\r\n                    return '预收'\r\n                case 2:\r\n                    return '实缴'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(), // 1 预收 2 实缴\r\n        billingMonth: (() => {\r\n            switch (cityData.billingMonth) {\r\n                case 0:\r\n                    return '当月'\r\n                case 1:\r\n                    return '次月'\r\n                case 2:\r\n                    return '双月'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(), // 0 当月 1 次月 2 双月\r\n        payDay: cityData.payDay + '号',\r\n        issueCertificate: cityData.issueCertificate,\r\n        accidentCollection: cityData.accidentCollection ? cityData.accidentCollection : '-/-',\r\n        serviceRate: cityData.serviceRate ? cityData.serviceRate : '-/-', //\r\n        policyPackageState: (() => {\r\n            switch (cityData.policyPackageState) {\r\n                case 0:\r\n                    return '未设置'\r\n                case 1:\r\n                    return '异常'\r\n                case 2:\r\n                    return '正常'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(),\r\n        policyPackage: (() => {\r\n            switch (cityData.policyPackageState) {\r\n                case 1:\r\n                case 2:\r\n                    return '查看'\r\n                case 0:\r\n                    return '设置'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(),\r\n        // 冗余数据\r\n        id: cityData.id,\r\n        serviceStateOriginal: cityData.serviceState,\r\n        policyPackageStateOriginal: cityData.policyPackageState\r\n    }))\r\n\r\n    // 将服务器返回的联系人数据转换为表格数据源 - 联系人\r\n    processContactDataToTableDataSource = (contactDataArr) => contactDataArr.map((contact) => ({\r\n        name: contact.name,\r\n        mobile: contact.mobile ? contact.mobile : '-/-',\r\n        qq: contact.qq ? contact.qq : '-/-',\r\n        telephone: contact.telephone ? contact.telephone : '-/-',\r\n        email: contact.email ? contact.email : '-/-',\r\n        remark: contact.remark ? contact.remark : '-/-',\r\n        receiver: (() => {\r\n            switch (contact.isRecipient) {\r\n                case 0:\r\n                    return '不是'\r\n                case 1:\r\n                    return '是'\r\n                default:\r\n                    return '-/-'\r\n            }\r\n        })(),\r\n        // 冗余数据 表格不显示该字段 但请求时可以用到\r\n        id: contact.id,\r\n        receiverOriginal: contact.isRecipient\r\n    }))\r\n\r\n    modifyServiceState = (serviceStateChangedValue, record) => {\r\n        const { dispatch, pageSize, cityCurrent } = this.props\r\n        dispatch(\r\n            modifyServiceCityServiceState({\r\n                id: record.id,\r\n                oldServiceState: record.serviceStateOriginal,\r\n                serviceState: serviceStateChangedValue\r\n            })\r\n        )\r\n        dispatch(getServiceCity({\r\n            companyId,\r\n            pageSize,\r\n            cityCurrent,\r\n            serviceState: this.state.filterServiceState,\r\n            policyPackageState: this.state.filterPolicyPackageState\r\n        }))\r\n    }\r\n\r\n    // 删除服务城市操作\r\n    deleteServiceCity = (id, serviceState) => {\r\n        const { dispatch } = this.props\r\n        if (serviceState === 3) {\r\n            // TODO 删除服务城市\r\n            Modal.confirm({\r\n                title: '确认删除此服务城市',\r\n                onOk() {\r\n                    dispatch(deleteServiceCityActionCreator({id, companyId}))\r\n                }\r\n            })\r\n        } else {\r\n            Modal.warn({\r\n                title: '只有停止服务的城市可以删除'\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst PolicyCompanyDetailWrapper = Form.create()(PolicyCompanyDetail)\r\n\r\nfunction mapStateToProps(state) {\r\n    const data = state.getIn(['policyCompanyDetailReducer'])\r\n    return {\r\n        companyName: data.getIn(['companyName']),\r\n        companyAddress: data.getIn(['companyAddress']),\r\n        detailAddress: data.getIn(['detailAddress']),\r\n        cooperationTime: data.getIn(['cooperationTime']),\r\n        protocolFileUrl: data.getIn(['protocolFileUrl']),\r\n        remark: data.getIn(['remark']),\r\n        addContactModalVisible: data.getIn(['addContactModalVisible']),\r\n        addCityModalVisible: data.getIn(['addCityModalVisible']),\r\n        savingLoading: data.getIn(['savingLoading']),\r\n        editable: data.getIn(['editable']),\r\n        pageSize: data.getIn(['pageSize']),\r\n        // 服务城市列表数据\r\n        cityDataSource: data.getIn(['cityDataSource']),\r\n        cityCurrent: data.getIn(['cityCurrent']),\r\n        cityTotal: data.getIn(['cityTotal']),\r\n        hasSecuredCustomerInServiceCity: data.getIn(['hasSecuredCustomerInServiceCity']),\r\n        // 联系人列表数据\r\n        contactDataSource: data.getIn(['cityDataSource']),\r\n        contactCurrent: data.getIn(['cityCurrent']),\r\n        contactTotal: data.getIn(['cityTotal']),\r\n        // 操作日志列表数据\r\n        operationDataSource: data.getIn(['cityDataSource']),\r\n        operationCurrent: data.getIn(['cityCurrent']),\r\n        operationTotal: data.getIn(['cityTotal']),\r\n        // TODO 做不到\r\n        hasReceiverInThisCompany: data.getIn(['hasReceiverInThisCompany'])\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PolicyCompanyDetailWrapper)\n\n\n// WEBPACK FOOTER //\n// src/page/policyCompanyDetail/index.jsx","/**\r\n * Created by Steve on 2017/6/2.\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, Input, Button, Cascader, Select } from 'antd'\r\nimport { addCityModalVisible as addCityModalVisibleActionCreator } from '../../action/policyCompanyBuild/policyCompanyBuildAction'\r\n\r\nconst FormItem = Form.Item\r\n\r\nclass AddCityModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            wordCount: 0\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { dispatch, visible, cancel, presetCityData } = this.props\r\n        const { getFieldDecorator, resetFields } = this.props.form\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: 24,\r\n                sm: 6\r\n            },\r\n            wrapperCol: {\r\n                xs: 24,\r\n                sm: 16\r\n            }\r\n        }\r\n        const options = [{\r\n            label: '浙江',\r\n            value: '浙江',\r\n            children: [{\r\n                label: '杭州',\r\n                value: '杭州',\r\n                children: [{\r\n                    label: '江干',\r\n                    value: '江干'\r\n                }]\r\n            }]\r\n        }]\r\n\r\n        return (\r\n            <Modal visible={visible} title=\"添加服务城市\" cancelText=\"放弃\" okText=\"确认\" onOk={this.submit} onCancel={() => {resetFields(); cancel()}}>\r\n                <Form onSubmit={this.submit}>\r\n                    <FormItem label=\"服务城市\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('serviceCity', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '服务城市不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.serviceCity:[]\r\n                            })(\r\n                                <Cascader placeholder=\"请选择\" options={options}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"开户地区\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountAddress', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '开户地区不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.accountAddress:[]\r\n                            })(\r\n                                <Cascader placeholder=\"请选择\" options={options}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"服务费\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('serviceFee', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '服务费不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.serviceFee:null\r\n                            })(\r\n                                <Input addonAfter={<span>元/人月</span>}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"账单类型\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountType', {\r\n                                initialValue: presetCityData?presetCityData.accountType:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    <Select.Option value=\"1\">预收</Select.Option>\r\n                                    <Select.Option value=\"2\">实缴</Select.Option>\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"账单归属月\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountMonth', {\r\n                                initialValue: presetCityData?presetCityData.accountMonth:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    <Select.Option value=\"0\">当月</Select.Option>\r\n                                    <Select.Option value=\"1\">次月</Select.Option>\r\n                                    <Select.Option value=\"2\">双月</Select.Option>\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"打款日\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('payDay', {\r\n                                initialValue: presetCityData?presetCityData.payDay:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    {this.generateDayOption()}\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"可开具证明\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('issueCertificate', {\r\n                                initialValue: presetCityData?presetCityData.issueCertificate:null\r\n                            })(\r\n                                <Input type=\"textarea\" ref={(el) => this.issueCertificateInputElement = el} placeholder=\"可开具证明\" onChange={this.issueCertificateTextAreaChange} defaultValue={presetCityData?presetCityData.issueCertificate:''}/>\r\n\r\n                            )\r\n                        }\r\n                        <span>{`${this.state.wordCount}/100`}</span>\r\n                    </FormItem>\r\n                </Form>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault()\r\n        const { receiveCityDatasource, dispatch } = this.props\r\n        const { resetFields, validateFields } = this.props.form\r\n        validateFields((errors, values) => {\r\n            if(!errors) {\r\n                dispatch(addCityModalVisibleActionCreator({addCityModalVisible: false}))\r\n                Object.assign(values, {serviceAreaId: 0})\r\n                console.log('addCityModal',values)\r\n                // 表单数据回传给index页面处理\r\n                receiveCityDatasource(values)\r\n                resetFields()\r\n                // this.issueCertificateInputElement.refs.input.value = ''\r\n            }\r\n        })\r\n    }\r\n\r\n    generateDayOption = () => {\r\n        let children = []\r\n        for (let i = 1;i<=30;i++) {\r\n            children.push(\r\n                <Select.Option value={i} key={i}>{`${i}号`}</Select.Option>\r\n            )\r\n        }\r\n        return children\r\n    }\r\n\r\n    // 控制输入字数\r\n    issueCertificateTextAreaChange = (e) => {\r\n        let length = e.target.value.length\r\n        if (length>100) {\r\n            length = 100\r\n            e.target.value = e.target.value.substring(0, 100)\r\n        }\r\n        this.setState({\r\n            wordCount: length\r\n        })\r\n    }\r\n}\r\n\r\nexport default Form.create()(AddCityModal)\n\n\n// WEBPACK FOOTER //\n// src/page/policyCompanyBuild/AddCityModal.js","/**\r\n * Created by Steve on 2017/6/3.\r\n */\r\n/**\r\n * Created by Steve on 2017/6/2.\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, Input, Button, Radio } from 'antd'\r\nimport { addContactModalVisible as addContactModalVisibleActionCreator } from '../../action/policyCompanyBuild/policyCompanyBuildAction'\r\n\r\nconst FormItem = Form.Item\r\n\r\nclass AddContactModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            wordCount: 0\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { dispatch, visible, cancel, presetContactData, hasReceiverInThisCompany } = this.props\r\n        // console.log('add contact modal', presetContactData)\r\n        const { getFieldDecorator, resetFields } = this.props.form\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: 24,\r\n                sm: 6\r\n            },\r\n            wrapperCol: {\r\n                xs: 24,\r\n                sm: 16\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Modal visible={visible} title=\"添加联系人\" cancelText=\"放弃\" okText=\"确认\" onOk={this.submit} onCancel={() => {resetFields(); cancel()}}>\r\n                <Form onSubmit={this.submit}>\r\n                    <FormItem label=\"姓名\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('contactName', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '姓名不能为空'\r\n                                }],\r\n                                initialValue: presetContactData?presetContactData.contactName:null\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"手机\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('mobilePhoneNum', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '手机号码不能为空'\r\n                                }],\r\n                                initialValue: presetContactData?presetContactData.mobilePhoneNum:null\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"邮箱\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('emailAddr', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '邮箱不能为空'\r\n                                }],\r\n                                initialValue: presetContactData?presetContactData.emailAddr:null\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"固定电话\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('phoneNum', {\r\n                                initialValue: presetContactData?presetContactData.phoneNum:null\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"QQ\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('qqNum', {\r\n                                initialValue: presetContactData?presetContactData.qqNum:null\r\n                            })(\r\n                                <Input />\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"派单表接收人\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('receiver', {\r\n                                initialValue: presetContactData?presetContactData.receiver:0\r\n                            })(\r\n                                <Radio.Group disabled={hasReceiverInThisCompany&&!this.props.isReceiver}>\r\n                                    <Radio value={1}>是</Radio>\r\n                                    <Radio value={0}>不是</Radio>\r\n                                </Radio.Group>\r\n                            )\r\n                        }\r\n                        <span className=\"ant-form-text\">{this.props.hasReceiverInThisCompany?'（只能有一个派单表接收人）':''}</span>\r\n                        {\r\n                            // console.log('modal has receiver', hasReceiverInThisCompany)\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"备注\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('remark', {\r\n                                initialValue: presetContactData?presetContactData.remark:null\r\n                            })(\r\n                                <Input type=\"textarea\" ref={(el) => this.remarkInputElement = el} placeholder=\"备注\" onChange={this.remarkTextAreaChange}/>\r\n                            )\r\n                        }\r\n                        <span>{`${this.state.wordCount}/20`}</span>\r\n                    </FormItem>\r\n                </Form>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault()\r\n        const { receiveContactDatasource, dispatch } = this.props\r\n        const { resetFields, validateFields } = this.props.form\r\n        validateFields((errors, values) => {\r\n            // console.log('add contact modal', errors, values)\r\n            if(!errors) {\r\n                dispatch(addContactModalVisibleActionCreator({addCityModalVisible: false}))\r\n                // 表单数据回传给index页面处理\r\n                receiveContactDatasource(values)\r\n                resetFields()\r\n            }\r\n        })\r\n    }\r\n\r\n    // 控制输入字数\r\n    remarkTextAreaChange = (e) => {\r\n        let length = e.target.value.length\r\n        if (length>20) {\r\n            length = 20\r\n            e.target.value = e.target.value.substring(0, 20)\r\n        }\r\n        this.setState({\r\n            wordCount: length\r\n        })\r\n    }\r\n}\r\n\r\nexport default Form.create()(AddContactModal)\n\n\n// WEBPACK FOOTER //\n// src/page/policyCompanyBuild/AddContactModal.js","exports = module.exports = require(\"../../../node_modules/.0.26.1@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".style---title---1CFy6{\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: solid 2px #22baa0;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.style---title---1CFy6 .style---left----96hQ{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.style---title---1CFy6 .style---right---1zk_s{\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.style---title---1CFy6 .style---clear---QO98A{\\r\\n    clear: both;\\r\\n}\\r\\n\\r\\n.style---title---1CFy6 .style---desc---3euJ-{\\r\\n    font-weight: bold;\\r\\n    font-size: 1.2em;\\r\\n    vertical-align: middle;\\r\\n    margin-left: 10px;\\r\\n}\\r\\n\\r\\n.style---title---1CFy6 .style---companyName---3YrH3{\\r\\n    font-size: 1.2em;\\r\\n    vertical-align: middle;\\r\\n    margin-left: 10px;\\r\\n    color: #ef6330;\\r\\n}\\r\\n\\r\\n/* 伪元素清浮动 */\\r\\n.style---baseInfo---3yO4d:after{\\r\\n    display: block;\\r\\n    content: '';\\r\\n    clear: both;\\r\\n}\\r\\n\\r\\n.style---baseInfo---3yO4d h4{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.style---baseInfo---3yO4d img{\\r\\n    width: 28px;\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.style---form---3_Fz-{\\r\\n    margin-top: 10px;\\r\\n    padding: 10px;\\r\\n}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"title\": \"style---title---1CFy6\",\n\t\"left\": \"style---left----96hQ\",\n\t\"right\": \"style---right---1zk_s\",\n\t\"clear\": \"style---clear---QO98A\",\n\t\"desc\": \"style---desc---3euJ-\",\n\t\"companyName\": \"style---companyName---3YrH3\",\n\t\"baseInfo\": \"style---baseInfo---3yO4d\",\n\t\"form\": \"style---form---3_Fz-\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.26.1@css-loader?modules&localIdentName=[path][name]---[local]---[hash:base64:5]!./~/.1.2.2@postcss-loader!./src/css/policyCompanyDetail/style.css\n// module id = 415\n// module chunks = 3","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAxklEQVRIS+1W3Q2CMBi8cxHBCdxAfRBfdQJgE5ykbKCv9kkXAZzkTDEmxhgKSU2Ioc9f73r3/ZWRNUuKJxIRAh4JjagDY2saCmW1y4uA+FhcTCEw5cKWqpKMIcFfWA57XASxNVeAqpNs00fxYAXuggPua+lE4E3Dn1rkSpHgyqv/S4CgW53k685G+zlB18unPvDmdbLIa9FzXAPvte6runEtHK/Ej4B22LVLnzNTbdPjUIBOe9zSJzK23xbgTHAekkDQXcD+AbcR6brdL8+kAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/policyCompanyDetail/add.png\n// module id = 426\n// module chunks = 3","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/policyCompanyDetail/edit.png\n// module id = 427\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.26.1@css-loader/index.js?modules&localIdentName=[path][name]---[local]---[hash:base64:5]!../../../node_modules/.1.2.2@postcss-loader/index.js!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.0.13.1@style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/.0.26.1@css-loader/index.js?modules&localIdentName=[path][name]---[local]---[hash:base64:5]!../../../node_modules/.1.2.2@postcss-loader/index.js!./style.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/.0.26.1@css-loader/index.js?modules&localIdentName=[path][name]---[local]---[hash:base64:5]!../../../node_modules/.1.2.2@postcss-loader/index.js!./style.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/policyCompanyDetail/style.css\n// module id = 433\n// module chunks = 3","/**\r\n * Created by Steve on 2017/6/2.\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, Input, Button, Cascader, Select } from 'antd'\r\nimport { addCityModalVisible as addCityModalVisibleActionCreator } from '../../action/policyCompanyBuild/policyCompanyBuildAction'\r\n\r\nconst FormItem = Form.Item\r\n\r\nclass AddCityModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            wordCount: 0\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { dispatch, visible, cancel, presetCityData } = this.props\r\n        const { getFieldDecorator, resetFields } = this.props.form\r\n        const formItemLayout = {\r\n            labelCol: {\r\n                xs: 24,\r\n                sm: 6\r\n            },\r\n            wrapperCol: {\r\n                xs: 24,\r\n                sm: 16\r\n            }\r\n        }\r\n        const options = [{\r\n            label: '浙江',\r\n            value: '浙江',\r\n            children: [{\r\n                label: '杭州',\r\n                value: '杭州',\r\n                children: [{\r\n                    label: '江干',\r\n                    value: '江干'\r\n                }]\r\n            }]\r\n        }]\r\n\r\n        return (\r\n            <Modal visible={visible} title=\"添加服务城市\" cancelText=\"放弃\" okText=\"确认\" onOk={this.submit} onCancel={() => {resetFields(); cancel()}}>\r\n                <Form onSubmit={this.submit}>\r\n                    <FormItem label=\"服务城市\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('serviceCity', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '服务城市不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.serviceCity:[]\r\n                            })(\r\n                                <Cascader placeholder=\"请选择\" options={options}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"开户地区\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountAddress', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '开户地区不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.accountAddress:[]\r\n                            })(\r\n                                <Cascader placeholder=\"请选择\" options={options}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"服务费\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('serviceFee', {\r\n                                rules: [{\r\n                                    required: true,\r\n                                    message: '服务费不能为空'\r\n                                }],\r\n                                initialValue: presetCityData?presetCityData.serviceFee:null\r\n                            })(\r\n                                <Input addonAfter={<span>元/人月</span>}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"账单类型\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountType', {\r\n                                initialValue: presetCityData?presetCityData.accountType:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    <Select.Option value=\"1\">预收</Select.Option>\r\n                                    <Select.Option value=\"2\">实缴</Select.Option>\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"账单归属月\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accountMonth', {\r\n                                initialValue: presetCityData?presetCityData.accountMonth:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    <Select.Option value=\"0\">当月</Select.Option>\r\n                                    <Select.Option value=\"1\">次月</Select.Option>\r\n                                    <Select.Option value=\"2\">双月</Select.Option>\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"打款日\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('payDay', {\r\n                                initialValue: presetCityData?presetCityData.payDay:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    {this.generateDayOption()}\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"可开具证明\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('issueCertificate', {\r\n                                initialValue: presetCityData?presetCityData.issueCertificate:null\r\n                            })(\r\n                                <Input type=\"textarea\" ref={(el) => this.issueCertificateInputElement = el} placeholder=\"可开具证明\" onChange={this.issueCertificateTextAreaChange} defaultValue={presetCityData?presetCityData.issueCertificate:''}/>\r\n\r\n                            )\r\n                        }\r\n                        <span>{`${this.state.wordCount}/100`}</span>\r\n                    </FormItem>\r\n                    <FormItem label=\"事故汇总\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('accidentCollection', {\r\n                                initialValue: presetCityData?presetCityData.accidentCollection:null\r\n                            })(\r\n                                <Input placeholder=\"发生事故的次数\" addonAfter={<span>次</span>}/>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                    <FormItem label=\"服务评分\" {...formItemLayout} >\r\n                        {\r\n                            getFieldDecorator('serviceRate', {\r\n                                initialValue: presetCityData?presetCityData.serviceRate:null\r\n                            })(\r\n                                <Select placeholder=\"请选择\">\r\n                                    {this.generateRateOption()}\r\n                                </Select>\r\n                            )\r\n                        }\r\n                    </FormItem>\r\n                </Form>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault()\r\n        const { receiveCityDatasource, dispatch } = this.props\r\n        const { resetFields, validateFields } = this.props.form\r\n        validateFields((errors, values) => {\r\n            if(!errors) {\r\n                dispatch(addCityModalVisibleActionCreator({addCityModalVisible: false}))\r\n                // 表单数据回传给index页面处理 在此之前加上presetCityData中的id\r\n                let data = {}\r\n                receiveCityDatasource(Object.assign(data, values, {id: this.props.presetCityData.id}))\r\n                resetFields()\r\n                // this.issueCertificateInputElement.refs.input.value = ''\r\n            }\r\n        })\r\n    }\r\n\r\n    generateRateOption = () => {\r\n        let children = []\r\n        for (let i = 1;i<=10;i++) {\r\n            children.push(\r\n                <Select.Option value={i} key={i}>{`${i}分`}</Select.Option>\r\n            )\r\n        }\r\n        return children\r\n    }\r\n\r\n    generateDayOption = () => {\r\n        let children = []\r\n        for (let i = 1;i<=30;i++) {\r\n            children.push(\r\n                <Select.Option value={i} key={i}>{`${i}号`}</Select.Option>\r\n            )\r\n        }\r\n        return children\r\n    }\r\n\r\n    // 控制输入字数\r\n    issueCertificateTextAreaChange = (e) => {\r\n        let length = e.target.value.length\r\n        if (length>100) {\r\n            length = 100\r\n            e.target.value = e.target.value.substring(0, 100)\r\n        }\r\n        this.setState({\r\n            wordCount: length\r\n        })\r\n    }\r\n}\r\n\r\nexport default Form.create()(AddCityModal)\n\n\n// WEBPACK FOOTER //\n// src/page/policyCompanyDetail/EditCityModal.js","/**\r\n * Created by YiShuai on 2017/6/6.\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Popover, Button, Select, Modal } from 'antd'\r\n\r\nexport default class PopSelect extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            popVisible: false,\r\n            serviceStateChangedValue: null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { defaultSelected, text } = this.props\r\n        return (\r\n            <Popover visible={this.state.popVisible} content={\r\n                <span>\r\n                    <Select defaultValue={defaultSelected} style={{minWidth: 100}}\r\n                            onSelect={(value) => this.setState({serviceStateChangedValue: value})}\r\n                            ref={selectElement => this.selectElement = selectElement }>\r\n                        <Select.Option value={1}>正常服务</Select.Option>\r\n                        <Select.Option value={2}>只减不增</Select.Option>\r\n                        <Select.Option value={3}>停止服务</Select.Option>\r\n                    </Select>\r\n                    <Button style={{marginLeft: 4}} type=\"primary\" onClick={this.save}>保存</Button>\r\n                    <Button style={{marginLeft: 2}} type=\"danger\" onClick={this.cancel}>X</Button>\r\n                </span>}>\r\n                <a onClick={this.pop}>{text}</a>\r\n            </Popover>\r\n        )\r\n    }\r\n\r\n    pop = () => {\r\n        this.setState({\r\n            popVisible: true\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        // hasSecuredCustomer应为布尔值\r\n        const { defaultSelected, saveCallback, policyPackageState, hasSecuredCustomer } = this.props\r\n        const {serviceStateChangedValue  } = this.state\r\n        // TODO 改变为正常服务和只减不增的前置条件：政策包状态正常；停止服务的前置条件：名下无在保人员；\r\n        // 如果选项发生改变\r\n        if (serviceStateChangedValue !== defaultSelected) {\r\n            // 如果原本为停止服务\r\n            if (defaultSelected === 3 ) {\r\n                // 改变为正常服务和只增不减的前提是 政策包正常2\r\n                if (policyPackageState === 2)\r\n                    saveCallback(serviceStateChangedValue)\r\n                else\r\n                    Modal.error({title: '该服务城市的政策包不正常，无法改变服务状态，否则会影响客户下单！'})\r\n            }\r\n            // 剩下为不是停止服务\r\n            // 改变为停止服务的前提是 名下无在保人员\r\n            if (!hasSecuredCustomer) {\r\n                saveCallback(serviceStateChangedValue)\r\n            } else {\r\n                Modal.error({title: '该服务城市还有正在服务中的参保人，状态不能设置为停止服务，否则可能会影响客户的续费！'})\r\n            }\r\n        }\r\n        this.setState({\r\n            popVisible: false\r\n        })\r\n        // console.log('popselect', this.selectElement)\r\n    }\r\n\r\n    cancel = () => {\r\n        this.setState({\r\n            popVisible: false\r\n        })\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// src/page/policyCompanyDetail/PopSelect.js"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;AASA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAHA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAHA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAwZA;AACA;AACA;AA1ZA;AA4ZA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AA5aA;AA8aA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AAvbA;AAwbA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAxcA;AA0cA;AACA;AADA;AAGA;AACA;AA9cA;AAgdA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAzdA;AA2dA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AApeA;AAqeA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AADA;AAGA;AACA;AACA;AACA;AAlfA;AAofA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AApgBA;AAugBA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AADA;AAGA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAphBA;AAshBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AALA;AAOA;AACA;AA7iBA;AA+iBA;AACA;AADA;AAGA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAGA;AACA;AAzjBA;AA2jBA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AApkBA;AAqkBA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA9kBA;AAglBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AA7lBA;AAimBA;AACA;AACA;AACA;AApmBA;AAqmBA;AAEA;AACA;AAAA;AACA;AACA;AACA;AA3mBA;AA4mBA;AACA;AACA;AACA;AACA;AAhnBA;AAinBA;AACA;AACA;AACA;AACA;AArnBA;AAsnBA;AACA;AACA;AACA;AACA;AA1nBA;AA6nBA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAvoBA;AA0oBA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAppBA;AAspBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AApEA;AAAA;AACA;AAsEA;AAvEA;AAAA;AACA;AAvpBA;AA8tBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAnBA;AAAA;AAAA;AACA;AA/tBA;AAovBA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AArwBA;AAuwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AADA;AAGA;AACA;AACA;AArxBA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAHA;AAXA;AAgBA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AAEA;AAJA;AAMA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AANA;AARA;AAgBA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAMA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AARA;AAAA;AARA;AAkBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AA4BA;AACA;AACA;;;;;;;;;;;;;;;;;;AC14BA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;AANA;;;;;AAOA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAgIA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAEA;AACA;AACA;AACA;AA/IA;AAiJA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAzJA;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAnKA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAHA;AACA;AAYA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAOA;AAAA;AAAA;AAAA;AATA;AAaA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AALA;AAYA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AALA;AAaA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AADA;AALA;AAWA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AATA;AA5EA;AADA;AA2FA;AACA;AA4BA;AACA;;;;;;AAYA;;;;;;;;;;;;;;;;;;AC5KA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;AATA;;;AAGA;;;;;AAOA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAkHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AA/HA;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAzIA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AACA;AAUA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AADA;AAFA;AASA;AAAA;AAAA;AAEA;AACA;AADA;AAFA;AASA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAMA;AAAA;AAAA;AAAA;AAAA;AAXA;AAgBA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AARA;AA1EA;AADA;AAwFA;AACA;AAgBA;AACA;;;;;;AAYA;;;;;;;AC3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjBA;;;;;;;ACAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjBA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;AANA;;;;;AAOA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAoJA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAEA;AACA;AACA;AACA;AAlKA;AAoKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AA5KA;AA8KA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAtLA;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAhMA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAHA;AACA;AAYA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAFA;AAaA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAOA;AAAA;AAAA;AAAA;AATA;AAaA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AALA;AAYA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AALA;AAaA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AADA;AALA;AAWA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AATA;AAWA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AALA;AASA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AAAA;AACA;AADA;AALA;AAhGA;AADA;AA+GA;AACA;AAqCA;AACA;;;;;;AAYA;;;;;;;;;;;;;;;;AC5MA;AACA;;;AAAA;AACA;;;;;;;AALA;;;;;AAMA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AA6BA;AACA;AADA;AAGA;AACA;AAjCA;AAmCA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AAIA;AACA;AA9DA;AAgEA;AACA;AADA;AAGA;AACA;AAlEA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AATA;AAWA;AAAA;AAAA;AAAA;AAAA;AAZA;AAeA;;;;;;AA3BA;;;;A","sourceRoot":""}